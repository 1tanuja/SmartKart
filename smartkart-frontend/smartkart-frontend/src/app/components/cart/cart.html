 <div class="container my-5 cart-container">
    <h2 class="mb-4 text-muted">
      <i class="fa-solid fa-cart-shopping text-warning me-2"></i>Shopping Cart
    </h2>
  
    <!-- Cart Item Loop -->
    <div *ngFor="let item of cartItems" class="cart-card p-4 mb-4 shadow rounded bg-white">
      <div class="row align-items-start">
  
        <!-- Product Image -->
        <div class="col-md-2 text-center">
          <div class="image-wrapper-small rounded shadow-sm">
            <img *ngIf="item.productimages.length > 0"
                 [src]="item.productimages[0].url"
                 alt="Product Image"
                 class="img-fluid rounded border" />
            <div *ngIf="!item.productimages?.length"
                 class="no-image-small d-flex justify-content-center align-items-center">
              <i class="fas fa-image fa-lg text-muted"></i>
            </div>
          </div>
        </div>
  
        <!-- Product Info -->
        <div class="col-md-7">
          <h5 class="fw-bold mb-2">{{ item.productName }}</h5>
  
          <p class="mb-1 text-success fs-5 fw-bold">
            <i class="fa-solid fa-tag me-1"></i>₹{{ item.offerPrice | number:'1.2-2'}}
          </p>
  
          <p class="mb-1 text-muted">
            <strong>MRP:</strong>
            <span class="text-decoration-line-through">₹{{ item.originalPrice  }}</span>
          </p>
  
          <p class="mb-1 text-danger fw-semibold">
            <i class="fa-solid fa-arrow-down me-1"></i>{{ item.discountPercent }}% OFF
          </p>
  
          <!-- Quantity Control -->
          <div class="mt-3 d-flex align-items-center gap-2">
            <strong><i class="fa-solid fa-sort-numeric-up me-1"></i>Quantity:</strong>
            <button class="btn btn-light btn-sm border" title="Decrease" (click)="decreaseQuantity(item)">
              <i class="fa-solid fa-minus"></i>
            </button>
            <span class="badge bg-dark-subtle text-dark px-3 py-2">{{ item.quantity }}</span>
            <button class="btn btn-light btn-sm border" title="Increase" (click)="increaseQuantity(item)">
              <i class="fa-solid fa-plus"></i>
            </button>
          </div>
        </div>
  
        <!-- Pricing and Action -->
        <div class="col-md-3 text-end">
          <p class="fs-5 fw-semibold text-dark">
            ₹{{ item.offerPrice |number:'1.2-2' }}
          </p>
  
          <p class="subtotal-text mb-2 text-muted">
            <i class="fa-solid fa-calculator me-1"></i>
            Subtotal: ₹{{ item.offerPrice * item.quantity | number:'1.2-2' }}
          </p>
  
          <button class="btn btn-outline-danger btn-sm mt-2" (click)="deleteCartItem(item.cartId)">
            <i class="fa-solid fa-trash me-1"></i>Remove
          </button>
        </div>
      </div>
    </div>
  
    <!-- Cart Total -->
    <div *ngIf="cartItems.length > 0" class="text-end mt-4 text-white">
      <h4 class="fw-bold text-muted">
        <i class="fa-solid fa-wallet me-2 text-warning"></i>
        Subtotal ({{ cartItems.length }} item{{ cartItems.length > 1 ? 's' : '' }}):
        ₹{{ total | number:'1.0-0' }}
      </h4>
      <button class="btn btn-success mt-3 px-5 py-2 shadow" (click)="buyFromCart(cartItems)">
        <i class="fa-solid fa-arrow-right-to-bracket me-2"></i>Proceed to Checkout
      </button>
    </div>
  
    <!-- Empty Cart -->
    <div *ngIf="cartItems.length === 0" class="text-center text-muted mt-5">
      <i class="fa-solid fa-cart-arrow-down fa-3x mb-3"></i>
      <p>Your cart is currently empty.</p>
    </div>
  </div>
  
